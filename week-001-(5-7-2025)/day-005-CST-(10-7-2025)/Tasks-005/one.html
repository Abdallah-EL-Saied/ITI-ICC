<html>
    <head>
        <title>Task 1</title>
        <script>
            function cleanInputFromSpaces(stringNums) {
                return stringNums.split(",").map(function (num) {
                    return num.trim();
                });
            }

            function checkInputValidation(cleanString) {
                return !cleanString.some(function (num) {
                    return isNaN(Number(num)) || num === "" || num.includes(" ");
                });
            }

            function printDuplicates(arr) {
                var duplicates = [];

                for (var i = 0; i < arr.length; i++) {
                    var count = 0;
                    var rows = [];

                    for (var j = 0; j < arr.length; j++) {
                        if (arr[i] == arr[j]) {
                            count++;
                            rows.push(j + 1);
                        }
                    }

                    if (count > 1) {
                        var found = false;
                        for (var k = 0; k < duplicates.length; k++) {
                            if (duplicates[k].value == arr[i]) {
                                found = true;
                                break;
                            }
                        }

                        if (!found) {
                            duplicates.push({ value: arr[i], rows: rows });
                        }
                    }
                }

                document.write("<div>");
                for (var d = 0; d < duplicates.length; d++) {
                    document.write("<p>Value " + duplicates[d].value + " is duplicated in rows: " + duplicates[d].rows.join(", ") + "</p>");
                }
                document.write("</div>");
            }

            function printData(numsArray) {
                document.write("<table><tr><td style='border: 2px solid'>Values</td></tr>");
                numsArray.forEach(function (converter) {
                    document.write("<td style='border: 2px solid; text-align: center;'>" + Number(converter) + "</td></tr>");
                });
                document.write("</table>");
                document.querySelector("table").style.border = "2px solid";
            }

            var userInput;
            var cleanArray;

            while (true) {
                userInput = prompt(`Enter Array Values`);
                cleanArray = cleanInputFromSpaces(userInput);

                if (!checkInputValidation(cleanArray)) {
                    alert("Please enter a valid array like: 1,2,3,4 or just a single number");
                    continue;
                }

                printData(cleanArray);
                printDuplicates(cleanArray);
                break;
            }
        </script>
        <style>
            table {
                display: inline-block;
                margin: 20px;
            }
            div {
                display: inline-block;
                margin: 20px;
                vertical-align: top;
                border: 2px solid;
                padding: 10px;
            }
        </style>
    </head>
    <body></body>
</html>
