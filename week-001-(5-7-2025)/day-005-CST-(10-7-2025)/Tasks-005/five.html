<!DOCTYPE html>
<html>
    <head>
        <title>Task 5</title>
        <style>
            table {
                border-collapse: collapse;
                margin-top: 20px;
            }
            th,
            td {
                border: 2px solid black;
                padding: 8px 12px;
                text-align: center;
            }
            th {
                background-color: #e0e0e0;
            }
            tfoot {
                font-weight: bold;
                background-color: #f0f8ff;
            }
        </style>
        <script>
            var studentNum = 4;
            var coursesNum = 3;
            var grades = [
                [85, 90, 78], // Student 1
                [8, 76, 92], // Student 2
                [90, 82, 85], // Student 3
                [70, 95, 80], // Student 4
            ];
            var studentNames = ["Ahmed", "Omar", "Youssef", "Mona"];
            var coursesNames = ["Math", "Science", "English"];
            var studentTotalGrades = Array(studentNum).fill(0);
            var courseTotalGrades = Array(coursesNum).fill(0);

            document.write("<table style='margin: 20px auto'>");
            document.write("<tr><th>Student</th>");
            for (var j = 0; j < coursesNum; j++) {
                document.write("<th>" + coursesNames[j] + "</th>");
            }
            document.write("<th>Total</th></tr>");

            for (var i = 0; i < studentNum; i++) {
                var sum = 0;
                document.write("<tr>");
                document.write("<td>" + studentNames[i] + "</td>");

                for (var j = 0; j < coursesNum; j++) {
                    document.write("<td>" + grades[i][j] + "</td>");
                    sum += grades[i][j];
                    courseTotalGrades[j] += grades[i][j];
                }

                studentTotalGrades[i] = sum;
                var maxGrade = Math.max(...studentTotalGrades);
                if (sum === maxGrade) {
                    document.write("<td style='background-color:lightgreen;'><strong>" + sum + "</strong></td>");
                } else {
                    document.write(`<td><strong>${sum}</strong></td>`);
                }
                document.write("</tr>");
            }

            document.write("<tr><td><strong>Total</strong></td>");
            var grandTotal = 0;

            for (var j = 0; j < coursesNum; j++) {
                document.write("<td><strong>" + courseTotalGrades[j] + "</strong></td>");
                grandTotal += courseTotalGrades[j];
            }

            document.write("<td><strong>" + grandTotal + "</strong></td></tr>");

            document.write("</table>");
        </script>
    </head>
    <body></body>
</html>
